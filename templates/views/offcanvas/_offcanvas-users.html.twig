<div class="collapse_backdrop fixed bottom-0 pointer-events-none bg-black/50 w-full h-[100vh] z-20 transition duration-300 opacity-0"></div>
<div id="user_list" class="custom__collapse fixed bottom-0 w-full h-[0vh] transition-all duration-600 z-50 ease-in-out">
    <div class="flex flex-col w-full h-full">
        <div class="rounded-t-xl sortie__container h-[70%] mt-auto px-3 overflow-scroll">
            <div class="flex items-start sticky top-0 sortie__container pt-5 z-10">
                <h3 class="font-semibold mb-5 text-2xl">Liste des participants ({{ sortie.participants | length }})</h3>
                <div class="cursor-pointer toggle__collapse ms-auto opacity-70 hover:opacity-100 transition" data-target="user_list">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                         stroke="currentColor" class="size-7">
                        <path stroke-linecap="round" stroke-linejoin="round"
                              d="m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"></path>
                    </svg>
                </div>
            </div>
            {% for user in sortie.participants %}
                <div class="mb-2">
                    <div class="grid grid-cols-12 items-center">
                        <div class="text-xs font-medium">#{{ loop.index }}</div>
                        <div class="col-span-7">
                            {# TODO path Userprofil #}
                            <a href="">
                                <div class="flex gap-2">
                                    <img src="{{ asset("/img/user/pexels-emilygarland-1499327.jpg") }}"
                                         alt="placeholder"
                                         class="rounded-full w-11 h-11">
                                    <div class="ms-2">
                                        <p class="font-semibold text-sm">{{ user }}</p>
                                        <div class="flex opacity-80 items-center text-xs">
                                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                                                 stroke-width="1.5" stroke="currentColor" class="size-4">
                                                <path stroke-linecap="round" stroke-linejoin="round"
                                                      d="M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"></path>
                                                <path stroke-linecap="round" stroke-linejoin="round"
                                                      d="M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"></path>
                                            </svg>
                                            <span class="pt-0.5">Campus {{ user.campus | capitalize }}</span></div>
                                    </div>
                                </div>
                            </a>
                        </div>
                        <div class="col-span-4 flex gap-10 justify-end items-center">
                            <a href="tel:{{ user.telephone }}" class="transition opacity-50 hover:opacity-100 pe-1 w-fit">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                                     stroke-width="1.5" stroke="currentColor" class="size-5">
                                    <path stroke-linecap="round" stroke-linejoin="round"
                                          d="M14.25 9.75v-4.5m0 4.5h4.5m-4.5 0 6-6m-3 18c-8.284 0-15-6.716-15-15V4.5A2.25 2.25 0 0 1 4.5 2.25h1.372c.516 0 .966.351 1.091.852l1.106 4.423c.11.44-.054.902-.417 1.173l-1.293.97a1.062 1.062 0 0 0-.38 1.21 12.035 12.035 0 0 0 7.143 7.143c.441.162.928-.004 1.21-.38l.97-1.293a1.125 1.125 0 0 1 1.173-.417l4.423 1.106c.5.125.852.575.852 1.091V19.5a2.25 2.25 0 0 1-2.25 2.25h-2.25Z"></path>
                                </svg>
                            </a>
                            <a href="mailto:{{ user.email }}" class="transition opacity-50 hover:opacity-100 w-fit">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"
                                     class="size-5 ms-auto">
                                    <path fill-rule="evenodd"
                                          d="M5.404 14.596A6.5 6.5 0 1 1 16.5 10a1.25 1.25 0 0 1-2.5 0 4 4 0 1 0-.571 2.06A2.75 2.75 0 0 0 18 10a8 8 0 1 0-2.343 5.657.75.75 0 0 0-1.06-1.06 6.5 6.5 0 0 1-9.193 0ZM10 7.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5Z"
                                          clip-rule="evenodd"></path>
                                </svg>
                            </a>
                            {% if is_granted('SORTIE_REMOVE_PARTICIPANT', sortie) %}
                                {# TODO AJAX Request remove User from participants #}
                                <a href="" class="transition text-red-700/70 opacity-50 hover:opacity-100 w-fit">
                                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                                         stroke-width="1.5" stroke="currentColor" class="size-5">
                                        <path stroke-linecap="round" stroke-linejoin="round"
                                              d="M12 9.75 14.25 12m0 0 2.25 2.25M14.25 12l2.25-2.25M14.25 12 12 14.25m-2.58 4.92-6.374-6.375a1.125 1.125 0 0 1 0-1.59L9.42 4.83c.21-.211.497-.33.795-.33H19.5a2.25 2.25 0 0 1 2.25 2.25v10.5a2.25 2.25 0 0 1-2.25 2.25h-9.284c-.298 0-.585-.119-.795-.33Z"></path>
                                    </svg>
                                </a>
                            {% endif %}
                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>
    </div>
</div>

{% block extraJs %}
    <script src="{{ asset('/js/offcanvas.js') }}"></script>
{% endblock %}


